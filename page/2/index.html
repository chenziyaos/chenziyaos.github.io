<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>羽非衣</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="linux运维,python">
<meta property="og:type" content="website">
<meta property="og:title" content="羽非衣">
<meta property="og:url" content="https://iceziyao.github.io/page/2/index.html">
<meta property="og:site_name" content="羽非衣">
<meta property="og:description" content="linux运维,python">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="羽非衣">
<meta name="twitter:description" content="linux运维,python">
  
    <link rel="alternative" href="/atom.xml" title="羽非衣" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">陈子瑶</a></h1>
        </hgroup>

        
        <p class="header-subtitle">心静如水</p>
        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">博客首页</a></li>
                        
                            <li><a href="/about">求职简历</a></li>
                        
                            <li><a href="/archives">归档</a></li>
                        
                            <li><a href="/guestbook">留言板</a></li>
                        
                            <li><a href="/404">公益404</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=lenlue123@foxmail.com" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/iceziYao" title="github">github</a>
                            
                                <a class="fl rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/HA/" style="font-size: 12px;">HA</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Python/" style="font-size: 16px;">Python</a> <a href="/tags/ajax/" style="font-size: 10px;">ajax</a> <a href="/tags/ansible/" style="font-size: 12px;">ansible</a> <a href="/tags/docker/" style="font-size: 12px;">docker</a> <a href="/tags/ftp/" style="font-size: 10px;">ftp</a> <a href="/tags/lvs/" style="font-size: 12px;">lvs</a> <a href="/tags/nginx/" style="font-size: 12px;">nginx</a> <a href="/tags/node-js/" style="font-size: 10px;">node.js</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/python/" style="font-size: 12px;">python</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/saltstack/" style="font-size: 12px;">saltstack</a> <a href="/tags/shell/" style="font-size: 12px;">shell</a> <a href="/tags/tcp/" style="font-size: 20px;">tcp</a> <a href="/tags/缓存/" style="font-size: 10px;">缓存</a> <a href="/tags/自动化运维/" style="font-size: 18px;">自动化运维</a> <a href="/tags/负载均衡/" style="font-size: 14px;">负载均衡</a>
                    </div>
                </section>
                
                
                

                
                
                <section class="switch-part switch-part3">
                
                    <div id="js-aboutme">喜欢接触新鲜事物、迎接新的挑战，更爱游离于错综复杂的编码与逻辑中</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">陈子瑶</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">陈子瑶</a></h1>
            </hgroup>
            
            <p class="header-subtitle">心静如水</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">博客首页</a></li>
                
                    <li><a href="/about">求职简历</a></li>
                
                    <li><a href="/archives">归档</a></li>
                
                    <li><a href="/guestbook">留言板</a></li>
                
                    <li><a href="/404">公益404</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=lenlue123@foxmail.com" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/iceziYao" title="github">github</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-Docker/docker02" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/04/Docker/docker02/" class="article-date">
      <time datetime="2016-04-03T16:00:00.000Z" itemprop="datePublished">2016-04-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/04/Docker/docker02/">浅析docker实现思想</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h2 id="从虚拟化的种类和层级说起"><a href="#从虚拟化的种类和层级说起" class="headerlink" title="从虚拟化的种类和层级说起"></a>从虚拟化的种类和层级说起</h2><blockquote>
<ul>
<li>cpu虚拟化：可以模拟不同CPU，例如bochs</li>
<li>完全虚拟化：只能模拟同样CPU，但是可以执行不同系统，例如vmware</li>
<li>半虚拟化</li>
<li>硬件虚拟化：可以当作获得硬件加速的完全虚拟化</li>
<li>系统虚拟化：host和guest共享一样的内核，例如Openvz</li>
<li>语言沙盒：只能在语言的范围内使用</li>
</ul>
<p>虚拟化的级别越偏底层，速度越慢，用户越难察觉到虚拟化的存在。 虚拟化的级别越偏上层，速度越快，用户越容易感知。也就是虚拟幻的包装，如何一个虚拟化完全包装底层，呈现给用户一个新的操作系统，那么用户会知道他用的什么吗？</p>
<ul>
<li>cpu虚拟化和完全虚拟化时，用户几乎可以阿不察觉到虚拟化的存在</li>
<li>半虚拟化时，guest内核必须存在补丁<ul>
<li>系统虚拟化时，用户不能控制自己的内核</li>
<li>语言沙盒时，用户没有使用api的自由
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/docker/">docker</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/">docker</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/04/04/Docker/docker02/#more">一览全貌 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Docker/docker01" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/03/Docker/docker01/" class="article-date">
      <time datetime="2016-04-02T16:00:00.000Z" itemprop="datePublished">2016-04-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/03/Docker/docker01/">浅析docker使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h2 id="docker是什么？"><a href="#docker是什么？" class="headerlink" title="docker是什么？"></a>docker是什么？</h2><ul>
<li>简单的说Docker是一个构建在LXC之上的,基于进程容器(Processcontainer)的轻量级VM解决方案<br>Docker的初衷也就是将各种应用程序和他们所依赖的运行环境打包成标准的Container/image,进而发布到不同的平台上运行。  也是由go写成的轻量级容器</li>
<li>Docker container和普通的虚拟机Image相比, 最大的区别是它并不包含操作系统内核
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/docker/">docker</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/">docker</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/04/03/Docker/docker01/#more">一览全貌 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Lvs/LVS2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/12/Lvs/LVS2/" class="article-date">
      <time datetime="2016-02-11T16:00:00.000Z" itemprop="datePublished">2016-02-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/12/Lvs/LVS2/">深入了解LVS</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h2 id="LVS的工作原理"><a href="#LVS的工作原理" class="headerlink" title="LVS的工作原理"></a>LVS的工作原理</h2><p>LVS的IP负载均衡技术是通过ipvs内核模块来实现的，ipvs是LVS集群系统的核心软件，它的主要作用是：安装在Director Server上，同时在Director Server上虚拟出一个IP地址，用户必须通过这个虚拟的IP地址访问集群服务。这个虚拟IP一般称为LVS的VIP，即Virtual IP。访问的请求首先经过VIP到达负载调度器，然后由负载调度器从Real Server列表中选取一个服务节点响应用户的请求。当用户的请求到达负载调度器后，调度器如何将请求发送到提供服务的Real Server节点，而Real Server节点如何返回数据给用户，是ipvs实现的重点技术，ipvs实现负载均衡机制有四种，分别是NAT、TUN和DR以及后来经淘宝开发的FullNat。下面将详细介绍这四种机制的工作模型。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/负载均衡/">负载均衡</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lvs/">lvs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/负载均衡/">负载均衡</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/02/12/Lvs/LVS2/#more">一览全貌 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Lvs/lvs1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/01/Lvs/lvs1/" class="article-date">
      <time datetime="2016-01-31T16:00:00.000Z" itemprop="datePublished">2016-02-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/01/Lvs/lvs1/">Lvs负载均衡</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>LVS是Linux Virtual Server的简称，也就是Linux虚拟服务器, 是一个由章文嵩博士发起的自由软件项目。<br>在Linux2.4内核以前，使用LVS时必须要重新编译内核以支持LVS功能模块，但是从Linux2.4内核以后，已经完全内置了LVS的各个功能模块，无需给内核打任何补丁，可以直接使用LVS提供的各种功能。<br>使用LVS技术要达到的目标是:</p>
<blockquote>
<p>通过LVS提供的负载均衡技术和Linux操作系统实现一个高性能、高可用的服务器群集，它具有良好可靠性、可扩展性和可操作性。从而以低廉的成本实现最优的服务性能。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/负载均衡/">负载均衡</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lvs/">lvs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/负载均衡/">负载均衡</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/02/01/Lvs/lvs1/#more">一览全貌 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-server/haproxy" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/16/server/haproxy/" class="article-date">
      <time datetime="2016-01-15T16:00:00.000Z" itemprop="datePublished">2016-01-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/16/server/haproxy/">Haproxy负载均衡</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h4 id="HAProxy简介"><a href="#HAProxy简介" class="headerlink" title="HAProxy简介"></a>HAProxy简介</h4><p><em>HAProxy提供高可用性、负载均衡以及基于TCP和HTTP应用的代理，支持虚拟主机，它是免费、快速并且可靠的一种解决方案。HAProxy特别适用于那些负载特大的web站点，这些站点通常又需要会话保持或七层处理。HAProxy运行在时下的硬件上，完全可以支持数以万计的并发连接。并且它的运行模式使得它可以很简单安全的整合进您当前的架构中， 同时可以保护你的web服务器不被暴露到网络上.</em><br><em>HAProxy实现了一种事件驱动、单一进程模型，此模型支持非常大的并发连接数。多进程或多线程模型受内存限制 、系统调度器限制以及无处不在的锁限制，很少能处理数千并发连接。事件驱动模型因为在有更好的资源和时间管理的用户端(User-Space) 实现所有这些任务，所以没有这些问题。此模型的弊端是，在多核系统上，这些程序通常扩展性较差。这就是为什么他们必须进行优化以 使每个CPU时间片(Cycle)做更多的工作。</em><br>————百度百科
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/负载均衡/">负载均衡</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/负载均衡/">负载均衡</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/01/16/server/haproxy/#more">一览全貌 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-HA/高可用集群01" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/16/HA/高可用集群01/" class="article-date">
      <time datetime="2016-01-15T16:00:00.000Z" itemprop="datePublished">2016-01-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/16/HA/高可用集群01/">高可用集群系列之基础篇1</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h3 id="什么是集群"><a href="#什么是集群" class="headerlink" title="什么是集群?"></a>什么是集群?</h3><blockquote>
<p>集群（cluster）就是一组计算机，它们作为一个整体向用户提供一组网络资源。这些单个的计算机系统就是集群的节点（node）。一个理想的集群是，用户从来不会意识到集群系统底层的节点，在他/她们看来，集群是一个系统，而非多个计算机系统。并且集群系统的管理员可以随意增加和删改集群系统的节点。<br>　　更详细的说，集群（一组协同工作的计算机）是充分利用计算资源的一个重要概念，因为它能够将工作负载从一个超载的系统（或节点）迁移到集群中的另一个系统上。其处理能力是与专用计算机(小型机,大型机)可相比,但其性价比高于专用计算机.常见的硬件有:结点,网络,存储.软件有:机群系统,节点系统,应用支撑软件。<br>　　Cluster集群技术可如下定义：一组相互独立的服务器在网络中表现为单一的系统，并以单一系统的模式加以管理。此单一系统为客户工作站提供高可靠性的服务。大多数模式下，集群中所有的计算机拥有一个共同的名称，集群内任一系统上运行的服务可被所有的网络客户所使用。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/集群/">集群</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HA/">HA</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/01/16/HA/高可用集群01/#more">一览全貌 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-HA/高可用基础" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/16/HA/高可用基础/" class="article-date">
      <time datetime="2016-01-15T16:00:00.000Z" itemprop="datePublished">2016-01-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/16/HA/高可用基础/">高可用集群系列之基础篇2</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h2 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h2><h3 id="心跳"><a href="#心跳" class="headerlink" title="心跳"></a>心跳</h3><ol>
<li><p>什么是心跳<br>就是将多台服务器用网络连接起来，而后每一台服务器都不停的将自己依然在线的信息很简短很小的通告给同一个网络中的备用服务器的主机，告诉其实主机自己依然在线，其它服务器收到这个心跳信息就认为本机是在线的。所谓心跳就是一群人在深夜行走，相互看不见对方，每个人隔一段时间呼唤一声，告诉同伴自己的状况.
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/集群/">集群</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HA/">HA</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/01/16/HA/高可用基础/#more">一览全貌 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-lnmp/Memcached" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/01/lnmp/Memcached/" class="article-date">
      <time datetime="2016-01-01T13:49:33.000Z" itemprop="datePublished">2016-01-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/01/lnmp/Memcached/">Memcached简介</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <ul>
<li><p>Memcached是一款开源、高性能、分布式内存对象缓存系统，可应用各种需要缓存的场景，其主要目的是通过降低对Database的访问来加速web应用程序。它是一个基于内存的“键值对”存储，用于存储数据库调用、API调用或页面引用结果的直接数据，如字符串、对象等。</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/缓存/">缓存</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/缓存/">缓存</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/01/01/lnmp/Memcached/#more">一览全貌 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Net/Tcp11" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/01/Net/Tcp11/" class="article-date">
      <time datetime="2015-12-31T16:00:00.000Z" itemprop="datePublished">2016-01-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/01/Net/Tcp11/">TCP连接的建立与中止</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h2 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h2><p>TCP是一个面向连接的协议，所以在连接双方发送数据之前，都需要首先建立一条连接。这和前面讲到的协议完全不同。前面讲的所有协议都只是发送数据而已，大多数都不关心发送的数据是不是送到，UDP尤其明显，从编程的角度来说，UDP编程也要简单的多，UDP都不用考虑数据分片。<br>TCP/IP协议详解一书中用telnet登陆退出来解释TCP协议连接的建立和中止的过程，可以看到，TCP连接的建立可以简单的称为三次握手，而连接的中止则可以叫做四次握手。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/网络/">网络</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tcp/">tcp</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/01/01/Net/Tcp11/#more">一览全貌 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-lnmp/php" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/01/lnmp/php/" class="article-date">
      <time datetime="2015-12-31T16:00:00.000Z" itemprop="datePublished">2016-01-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/01/lnmp/php/">PHP编译出错</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <a id="more"></a>
<pre><code>
   /libxmlrpc/encoding.c:101:undefined reference to 'libiconv_close'
   　　collect2: ld returned 1 exit status
   　　make:*** [sapi/fpm/php-fpm] Error 1
   　　解决方法：
   　　#make ZEND_EXTRA_LIBS='-liconv'
   　　错误一、编译php出错
   　　/php-5.3.2/ext/fileinfo/libmagic/apprentice.c:147:internal compiler
   error:Segmentation fault
   　　Please submit a full bug report,
   　　with preprocessed source if appropriate.
   　　See <url:http: bugzilla.redhat.com="" bugzilla=""> for instructions.
   　　The bug is not reproducible,so it is likely a hardware or OS problem.
   　　make:*** [ext/fileinfo/libmagic/apprentice.lo] Error 1
   　　解决方法：内存大于1G即可，这是php5.3.2的一个bug
    或者在./configure加上选项:--disable-fileinfo
    　　--------------------------------------------------------------------
    　　错误二、重新构造configure文件出错
    　　./buildconf --force
    　　Forcing buildconf
    　　buildconf:checking installation…
    　　buildconf:autoconf version 2.59 （ok）
    　　buildconf:Your version of autoconf likely contains buggy cache code.
    　　Running vcsclean for you.
    　　To avoid this,install autoconf-2.13.
    　　Can't figure out your VCS, not cleaning.
    　　解决方法：编译安装autoconf-2.13
    　　再将autoconf-2.13的auotconf文件至/usr/local/autoconf
    　　--------------------------------------------------------------------
    　　错误三、编译时缺少库
    　　configure: error: libXpm.（a|so） not found.
    　　解决方法：yum install libXpm-devel
    　　--------------------------------------------------------------------
    　　错误四、编译时缺少gmp.h文件
    　　configure: error: Unable to locate gmp.h
    　　解决方法：yum install gmp-devel
    　　--------------------------------------------------------------------
    　　错误五
    　　Configure: error: xml2-config not found. Please check your libxml2
    installation.
    　　解决方法：
    　　#yum install libxml2 libxml2-devel （For Redhat & Fedora）
    　　# aptitude install libxml2-dev      （For ubuntu）
    　　--------------------------------------------------------------------
    　　错误六
    　　Checking for pkg-config… /usr/bin/pkg-config
    　　configure: error: Cannot find OpenSSL’s <evp.h>
    　　解决方法：
    　　#yum install openssl openssl-devel
    　　--------------------------------------------------------------------
    　　错误七
    　　Configure: error: Please reinstall the BZip2 distribution
    　　解决方法：
    　　# yum install bzip2 bzip2-devel
    　　--------------------------------------------------------------------
    　　错误八
    　　Configure: error: Please reinstall the libcurl distribution -
    　　easy.h should be in <curl-dir>/include/curl/
    　　解决方法：
    　　# yum install curl curl-devel   （For Redhat & Fedora）
    　　# install libcurl4-gnutls-dev    （For Ubuntu）
    　　--------------------------------------------------------------------
    　　错误九：
    　　Configure: error: libjpeg.（also） not found.
    　　解决方法：
    　　# yum install libjpeg libjpeg-devel
    　　--------------------------------------------------------------------
    　　错误十
    　　Configure: error: libpng.（also） not found.
    　　--------------------------------------------------------------------
    　　解决方法：
    　　# yum install libpng libpng-devel
    　　--------------------------------------------------------------------
    　　错误十一
    　　Configure: error: freetype.h not found.
    　　解决方法：
    　　#yum install freetype-devel
    　　--------------------------------------------------------------------
    　　错误十二
    　　Configure: error: Unable to locate gmp.h
    　　解决方法：
    　　# yum install gmp-devel
    　　--------------------------------------------------------------------
    　　错误十三
    　　Configure: error: Cannot find MySQL header files under /usr.
    　　Note that the MySQL client library is not bundled anymore!
    　　解决方法：
    　　# yum install mysql-devel            （For Redhat & Fedora）
    　　# apt-get install libmysql++-dev      （For Ubuntu）
    　　--------------------------------------------------------------------
    　　错误十四
    　　Configure: error: Please reinstall the ncurses distribution
    　　解决方法：
    　　# yum install ncurses ncurses-devel
    　　--------------------------------------------------------------------
    　　错误十五
    　　Checking for unixODBC support… configure: error: ODBC header file ‘
    /usr/include/sqlext.h’ not found!
    　　解决方法：
    　　# yum install unixODBC-devel
    　　--------------------------------------------------------------------
    　　错误十六
    　　Configure: error: Cannot find pspell
    　　解决方法：
    　　# yum install pspell-devel
    　　--------------------------------------------------------------------
    　　错误十七
    　　configure: error: mcrypt.h not found. Please reinstall libmcrypt.
    　　解决方法：
    　　# yum install libmcrypt libmcrypt-devel    （For Redhat & Fedora）
    　　# apt-get install libmcrypt-dev
    　　--------------------------------------------------------------------
    　　错误十八
    　　Configure: error: snmp.h not found. Check your SNMP installation.
    　　解决方法：
    　　# yum install net-snmp net-snmp-devel
    　　--------------------------------------------------------------------
    　　错误十九
    　　configure:error:Cannot find ldap.h
    　　解决方法：
    　　#yum install openldap-devel openldap
    　　错误二十
    　　configure:error:xslt-config not found. Please reinstall the libxslt
    >= 1.1.0 distribution
    　　解决方法：
    　　#yum install libxslt libxslt-devel
    　　错误二十一
    　　checking for libevent >=1.4.11 install prefix… configure: error:
    Could not find libevent >=1.4.11 in /usr/local/php
    　　解决方法：
    　　安装libevent-1.4.11以上版本至/usr/local
    　　tar xzvf libevent-1.4.14-stable.tar.gz
    　　cd libevent-1.4.14-stable
    　　./configure --prefix=/usr/local
    　　make&&make install
    　　在编译。/configure时添加--with-libevent-dir=/usr/local即可
    　　错误二十二
    　　cc1: out of memory allocating 2036 bytes after a total of 81846272
    bytes
    　　make: *** [ext/date/lib/parse_date.lo] Error 1
    　　报错：
    　　/usr/bin/ld: cannot find -lltdl
    　　collect2: ld returned 1 exit status
    　　make:*** [sapi/fpm/php-fpm] Error 1
    　　解决方法：
    　　安装ltdl
    　　#cd /libmcrypt-2.5.7/libltdl/
    　　#./configure --enable-ltdl-install
    　　#ldconfig
    　　#cd php-5.3.6
    　　#make ZEND_EXTRA_LIBS='-liconv'
</curl-dir></evp.h></url:http:></code></pre>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/lnmp/">lnmp</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016-09-06 陈子瑶
            </div>
            <div class="footer-right">
                <a href="#" target="_blank"></a> Yao<a href="#" target="_blank"></a> 非衣小阁
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >留影:
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">足印:
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>